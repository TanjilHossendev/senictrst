document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("startTime"),t=document.getElementById("endTime"),a=document.getElementById("breakDuration"),n=document.getElementById("hourlyWage"),o=document.getElementById("standardWorkday"),l=document.getElementById("totalHours"),r=document.getElementById("overtimeHours"),d=document.getElementById("totalEarnings"),c=document.getElementById("errorMessage"),m=document.getElementById("resetBtn"),s=document.getElementById("copyBtn"),u=document.getElementById("downloadBtn"),i=document.getElementById("workHoursForm"),g=()=>{const m=e.value,s=t.value,u=parseInt(a.value)||0,i=parseFloat(n.value)||0,g=parseFloat(o.value)||8;if(!m||!s)return void(c.textContent="Please select both start and end times.");let v=new Date(`1970-01-01T${m}`),y=new Date(`1970-01-01T${s}`);y<v&&y.setDate(y.getDate()+1);let E=y-v,I=Math.floor(E/1e3/60);I-=u,I<0&&(c.textContent="Break duration cannot be longer than total work time.",I=0);const B=Math.floor(I/60),k=I%60;let h=0;I>60*g&&(h=I-60*g);const S=Math.floor(h/60),L=h%60,x=I/60*i;l.textContent=`${B}h ${k}m`,r.textContent=`${S}h ${L}m`,d.textContent=`$${x.toFixed(2)}`,c.textContent="",localStorage.setItem("startTime",e.value),localStorage.setItem("endTime",t.value),localStorage.setItem("breakDuration",a.value),localStorage.setItem("hourlyWage",n.value),localStorage.setItem("standardWorkday",o.value)},v=()=>`Work Hours Summary:\nStart Time: ${e.value}\nEnd Time: ${t.value}\nBreak: ${a.value} minutes\nTotal Work: ${l.textContent}\nOvertime: ${r.textContent}\nEarnings: ${d.textContent}`;[e,t,a,n,o].forEach(e=>{e.addEventListener("input",g)}),m.addEventListener("click",()=>{i.reset(),localStorage.clear(),o.value="8",g()}),s.addEventListener("click",()=>{navigator.clipboard.writeText(v()).then(()=>{alert("Summary copied to clipboard!")})}),u.addEventListener("click",()=>{const e=new Blob([v()],{type:"text/plain"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="work_summary.txt",t.click(),URL.revokeObjectURL(t.href)}),e.value=localStorage.getItem("startTime")||"",t.value=localStorage.getItem("endTime")||"",a.value=localStorage.getItem("breakDuration")||"",n.value=localStorage.getItem("hourlyWage")||"",o.value=localStorage.getItem("standardWorkday")||"8",g();document.getElementById("faq-accordion").querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,a=e.querySelector("i");t.classList.contains("hidden")?(t.classList.remove("hidden"),a.classList.add("rotate-180")):(t.classList.add("hidden"),a.classList.remove("rotate-180"))})})});